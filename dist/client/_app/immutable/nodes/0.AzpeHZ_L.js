import{s as X,r as le,a as ne,u as se,g as re,d as oe,c as ae,i as ie}from"../chunks/scheduler.DTn6sg0E.js";import{S as Y,i as Z,e as v,s as j,c as k,a as h,l as ue,f as z,d as f,r as _,g as w,h as b,n as ee,o as L,p as te,q as E,w as B,x as I,y as D,z as T,t as C,A as J,b as M,B as K,C as Q,u as R,j as fe}from"../chunks/index.BrvKFv8V.js";import{B as ce,l as W}from"../chunks/loginSession.Bmowu5Lj.js";import{L as P}from"../chunks/Link.CK2OdIu8.js";import{g as de}from"../chunks/entry.xM4ousmE.js";function _e(i){let t,e,l,n,a,r,s,o;return n=new P({props:{href:"/login",fixedSize:!0,typeText:!0,$$slots:{default:[ge]},$$scope:{ctx:i}}}),s=new P({props:{href:"/register",fixedSize:!0,fontBold:!0,$$slots:{default:[pe]},$$scope:{ctx:i}}}),{c(){t=v("li"),e=v("ul"),l=v("li"),B(n.$$.fragment),a=j(),r=v("li"),B(s.$$.fragment),this.h()},l(u){t=k(u,"LI",{});var c=h(t);e=k(c,"UL",{class:!0});var m=h(e);l=k(m,"LI",{});var d=h(l);I(n.$$.fragment,d),d.forEach(f),a=z(m),r=k(m,"LI",{});var $=h(r);I(s.$$.fragment,$),$.forEach(f),m.forEach(f),c.forEach(f),this.h()},h(){_(e,"class","flex gap-5")},m(u,c){w(u,t,c),b(t,e),b(e,l),D(n,l,null),b(e,a),b(e,r),D(s,r,null),o=!0},p(u,c){const m={};c&32&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const d={};c&32&&(d.$$scope={dirty:c,ctx:u}),s.$set(d)},i(u){o||(E(n.$$.fragment,u),E(s.$$.fragment,u),o=!0)},o(u){L(n.$$.fragment,u),L(s.$$.fragment,u),o=!1},d(u){u&&f(t),T(n),T(s)}}}function me(i){let t,e,l=i[0].name+"",n,a,r,s,o,u,c,m,d,$,g,N,A,H;const q=[be,he,$e],x=[];function V(p,y){return p[0].role==="admin"?0:p[0].role=="manager"?1:2}return c=V(i),m=x[c]=q[c](i),g=new ce({props:{type:"button",loading:!1,disable:!1,title:"Profile Button",classStyled:"text-center text-white",$$slots:{default:[ye]},$$scope:{ctx:i}}}),g.$on("click",i[4]),{c(){t=v("li"),e=v("button"),n=C(l),a=J("svg"),r=J("path"),s=j(),o=v("div"),u=v("ul"),m.c(),d=j(),$=v("li"),B(g.$$.fragment),this.h()},l(p){t=k(p,"LI",{class:!0});var y=h(t);e=k(y,"BUTTON",{id:!0,"data-dropdown-toggle":!0,class:!0,type:!0});var S=h(e);n=M(S,l),a=K(S,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var O=h(a);r=K(O,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(f),O.forEach(f),S.forEach(f),s=z(y),o=k(y,"DIV",{id:!0,class:!0});var F=h(o);u=k(F,"UL",{class:!0,"aria-labelledby":!0});var U=h(u);m.l(U),d=z(U),$=k(U,"LI",{});var G=h($);I(g.$$.fragment,G),G.forEach(f),U.forEach(f),F.forEach(f),y.forEach(f),this.h()},h(){_(r,"stroke","currentColor"),_(r,"stroke-linecap","round"),_(r,"stroke-linejoin","round"),_(r,"stroke-width","2"),_(r,"d","m1 1 4 4 4-4"),_(a,"class","w-2.5 h-2.5 ms-3"),_(a,"aria-hidden","true"),_(a,"xmlns","http://www.w3.org/2000/svg"),_(a,"fill","none"),_(a,"viewBox","0 0 10 6"),_(e,"id","dropdownDefaultButton"),_(e,"data-dropdown-toggle","dropdown"),_(e,"class","text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"),_(e,"type","button"),_(u,"class","py-2 text-sm text-gray-700 dark:text-gray-200"),_(u,"aria-labelledby","dropdownDefaultButton"),_(o,"id","dropdown"),_(o,"class","absolute top-full left-1/2 -translate-x-1/2 translate-y-2 z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700"),Q(o,"visibility",i[1]?"visible":"hidden"),_(t,"class","relative")},m(p,y){w(p,t,y),b(t,e),b(e,n),b(e,a),b(a,r),b(t,s),b(t,o),b(o,u),x[c].m(u,null),b(u,d),b(u,$),D(g,$,null),N=!0,A||(H=[R(e,"click",i[2]),R(t,"focusout",i[3])],A=!0)},p(p,y){(!N||y&1)&&l!==(l=p[0].name+"")&&fe(n,l);let S=c;c=V(p),c!==S&&(ee(),L(x[S],1,1,()=>{x[S]=null}),te(),m=x[c],m||(m=x[c]=q[c](p),m.c()),E(m,1),m.m(u,d));const O={};y&32&&(O.$$scope={dirty:y,ctx:p}),g.$set(O),y&2&&Q(o,"visibility",p[1]?"visible":"hidden")},i(p){N||(E(m),E(g.$$.fragment,p),N=!0)},o(p){L(m),L(g.$$.fragment,p),N=!1},d(p){p&&f(t),x[c].d(),T(g),A=!1,le(H)}}}function ge(i){let t;return{c(){t=C("Đăng nhập")},l(e){t=M(e,"Đăng nhập")},m(e,l){w(e,t,l)},d(e){e&&f(t)}}}function pe(i){let t;return{c(){t=C("Đăng ký")},l(e){t=M(e,"Đăng ký")},m(e,l){w(e,t,l)},d(e){e&&f(t)}}}function $e(i){let t,e,l;return e=new P({props:{href:"/",typeText:!0,$$slots:{default:[ve]},$$scope:{ctx:i}}}),{c(){t=v("li"),B(e.$$.fragment)},l(n){t=k(n,"LI",{});var a=h(t);I(e.$$.fragment,a),a.forEach(f)},m(n,a){w(n,t,a),D(e,t,null),l=!0},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){n&&f(t),T(e)}}}function he(i){let t,e,l;return e=new P({props:{href:"/manager",$$slots:{default:[ke]},$$scope:{ctx:i}}}),{c(){t=v("li"),B(e.$$.fragment)},l(n){t=k(n,"LI",{});var a=h(t);I(e.$$.fragment,a),a.forEach(f)},m(n,a){w(n,t,a),D(e,t,null),l=!0},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){n&&f(t),T(e)}}}function be(i){let t,e,l;return e=new P({props:{href:"/admin",$$slots:{default:[we]},$$scope:{ctx:i}}}),{c(){t=v("li"),B(e.$$.fragment)},l(n){t=k(n,"LI",{});var a=h(t);I(e.$$.fragment,a),a.forEach(f)},m(n,a){w(n,t,a),D(e,t,null),l=!0},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){n&&f(t),T(e)}}}function ve(i){let t;return{c(){t=C("Profile")},l(e){t=M(e,"Profile")},m(e,l){w(e,t,l)},d(e){e&&f(t)}}}function ke(i){let t;return{c(){t=C("Simple")},l(e){t=M(e,"Simple")},m(e,l){w(e,t,l)},d(e){e&&f(t)}}}function we(i){let t;return{c(){t=C("Dashboards")},l(e){t=M(e,"Dashboards")},m(e,l){w(e,t,l)},d(e){e&&f(t)}}}function ye(i){let t;return{c(){t=C("Đăng xuất")},l(e){t=M(e,"Đăng xuất")},m(e,l){w(e,t,l)},d(e){e&&f(t)}}}function Le(i){let t,e,l,n='<a class="text-3xl font-semibold" href="/">LOGO</a>',a,r,s,o;const u=[me,_e],c=[];function m(d,$){return d[0]?0:1}return r=m(i),s=c[r]=u[r](i),{c(){t=v("nav"),e=v("ul"),l=v("li"),l.innerHTML=n,a=j(),s.c(),this.h()},l(d){t=k(d,"NAV",{class:!0,"aria-label":!0});var $=h(t);e=k($,"UL",{class:!0,role:!0});var g=h(e);l=k(g,"LI",{"data-svelte-h":!0}),ue(l)!=="svelte-1f1bai4"&&(l.innerHTML=n),a=z(g),s.l(g),g.forEach(f),$.forEach(f),this.h()},h(){_(e,"class","list-none m-0 flex justify-between items-center"),_(e,"role","navigation"),_(t,"class","w-full py-6 bg-transparent grid"),_(t,"aria-label","Main Navigation")},m(d,$){w(d,t,$),b(t,e),b(e,l),b(e,a),c[r].m(e,null),o=!0},p(d,[$]){let g=r;r=m(d),r===g?c[r].p(d,$):(ee(),L(c[g],1,1,()=>{c[g]=null}),te(),s=c[r],s?s.p(d,$):(s=c[r]=u[r](d),s.c()),E(s,1),s.m(e,null))},i(d){o||(E(s),o=!0)},o(d){L(s),o=!1},d(d){d&&f(t),c[r].d()}}}function Ee(i,t,e){let{loginSession:l}=t,n=!1;const a=()=>{e(1,n=!n)},r=({relatedTarget:o,currentTarget:u})=>{o instanceof HTMLElement&&u.contains(o)||e(1,n=!1)};async function s(){const u=await fetch("auth/logout",{method:"POST"});console.log(u),u.ok?de("/"):console.error("Logout not successful")}return i.$$set=o=>{"loginSession"in o&&e(0,l=o.loginSession)},[l,n,a,r,s]}class xe extends Y{constructor(t){super(),Z(this,t,Ee,Le,X,{loginSession:0})}}function Se(i){let t,e,l,n;t=new xe({props:{loginSession:i[0]}});const a=i[3].default,r=ne(a,i,i[2],null);return{c(){B(t.$$.fragment),e=j(),l=v("main"),r&&r.c(),this.h()},l(s){I(t.$$.fragment,s),e=z(s),l=k(s,"MAIN",{class:!0});var o=h(l);r&&r.l(o),o.forEach(f),this.h()},h(){_(l,"class","w-full")},m(s,o){D(t,s,o),w(s,e,o),w(s,l,o),r&&r.m(l,null),n=!0},p(s,[o]){const u={};o&1&&(u.loginSession=s[0]),t.$set(u),r&&r.p&&(!n||o&4)&&se(r,a,s,s[2],n?oe(a,s[2],o,null):re(s[2]),null)},i(s){n||(E(t.$$.fragment,s),E(r,s),n=!0)},o(s){L(t.$$.fragment,s),L(r,s),n=!1},d(s){s&&(f(e),f(l)),T(t,s),r&&r.d(s)}}}function Be(i,t,e){let l;ae(i,W,o=>e(0,l=o));let{$$slots:n={},$$scope:a}=t,{data:r}=t;const{user:s}=r;return ie(W,l=s,l),i.$$set=o=>{"data"in o&&e(1,r=o.data),"$$scope"in o&&e(2,a=o.$$scope)},[l,r,a,n]}class Ne extends Y{constructor(t){super(),Z(this,t,Be,Se,X,{data:1})}}export{Ne as component};
