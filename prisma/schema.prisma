generator client {
    provider = "prisma-client-js"
    output = "./generator/client"
}

datasource db {
    provider = "mysql"
    url =env("DATABASE_URL")
    relationMode = "prisma"
}
model AppSetting{
    id Int @id @default(autoincrement())
    create_at DateTime @default(now())
    update_at DateTime @updatedAt
    key String @unique
    value String
}
model Role {
    id Int @id @default(autoincrement())
    create_at DateTime @default(now())
    update_at DateTime @updatedAt
    name String @unique
    users User[]
}

model User {
    id Int @id @default(autoincrement())
    create_at DateTime @default(now())
    update_at DateTime @updatedAt
    role_id Int
    email String @unique
    password String
    name String
    phone Int @default(0) 

    role Role @relation(fields: [role_id], references: [id])
    auth_token AuthToken[]
}
model AuthToken {
    id  Int @id @default(autoincrement())
    create_at DateTime @default(now())
    updated_at DateTime @updatedAt
    user_id Int
    token String @unique
    user User @relation(fields: [user_id], references: [id])

    @@index([updated_at])
}